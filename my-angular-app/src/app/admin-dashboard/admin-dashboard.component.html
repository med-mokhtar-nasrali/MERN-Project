<app-navbar></app-navbar>

<div class="dashboard-container">
  <div class="dashboard">
    <div class="section" *ngIf="users.length > 0">
      <h3 class="dashboard-title">All Users: {{ users.length }}</h3>
      <table class="styled-table">
        <thead>
          <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
            <td>{{ user.firstName }}</td>
            <td>{{ user.lastName }}</td>
            <td>{{ user.email }}</td>
            <td>
              <button class="action-btn" (click)="deleteUser(user._id)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div *ngIf="users.length === 0" class="empty-state">
      <p>No users found.</p>
    </div>

    <hr>

    <div class="section" *ngIf="recipes.length > 0">
      <h3 class="dashboard-title">All Recipes: {{ recipes.length }}</h3>
      <table class="styled-table">
        <thead>
          <tr>
            <th>Recipe Name</th>
            <th>Creation Date</th>
            <th>Posted By</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let recipe of recipes">
            <td>{{ recipe.recipeName }}</td>
            <td>{{ recipe.createdAt | date:'short' }}</td>
            <td>{{ recipe.postedBy?.firstName }} {{ recipe.postedBy?.lastName }}</td>
            <td class="d-flex gap-1">
              <button class="action-btn" (click)="deleteRecipe(recipe._id)">Delete</button>
              <a class="btn btn-primary" [routerLink]="['/recipes', recipe._id]">View</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div *ngIf="recipes.length === 0" class="empty-state">
      <p>No recipes found.</p>
    </div>
  </div>
</div>